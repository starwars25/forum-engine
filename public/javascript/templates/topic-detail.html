<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
        <h3>{{topic.theme}}</h3>
        <div ng-repeat="opinion in topic.opinions" class="opinion">
            <img ng-src="{{opinion.avatar_url}}" class="avatar-small"/>
            <h4>{{opinion.nickname}}</h4>
            <p>{{opinion.content}}</p>
            <button class="btn btn-danger" ng-click="showEditForm(opinion)" ng-hide="editedOpinionId === opinion.id || wrongUser(opinion)">Edit</button>
            <form name="opinion.editOpinion" ng-show="editedOpinionId === opinion.id" ng-submit="opinion.editOpinion.$valid && updateOpinion(opinion)">
                <div class="form-group" ng-class="{'has-error': opinion.editOpinion.contentInput.$invalid}">
                    <label>Content</label>
                    <textarea ng-model="opinion.content" name="contentInput" class="form-control" required minlength="2"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Edit</button>
                <button class="btn btn-default" ng-click="hideEditForm()">Hide</button>

            </form>
        </div>
        <div class="clearfix"></div>
        <form ng-show="loggedIn()" name="createOpinionForm" ng-submit="createOpinionForm.$valid && createOpinion()">
            <div class="form-group">
                <label>Content</label>
                <textarea ng-model="newOpinion.content" minlength="2" class="form-control"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>
